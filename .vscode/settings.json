{
  // ---- Python Environment ----
  "python.defaultInterpreterPath": "${workspaceFolder}\\.venv\\Scripts\\python.exe",

  // ---- Ruff: ENABLED with workspace-wide diagnostics ----
  "ruff.enable": true,
  "ruff.nativeServer": true,
  "ruff.lint.enable": true,
  "ruff.configuration": "${workspaceFolder}/pyproject.toml",
  "ruff.configurationPreference": "filesystemFirst",
  "ruff.organizeImports": true,
  "ruff.fixAll": true,
  "ruff.lint.run": "onSave",
  "ruff.showSyntaxErrors": true,

  // ---- Editor Integration ----
  "editor.defaultFormatter": "charliermarsh.ruff",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll": "explicit",
    "source.organizeImports": "explicit"
  },

  // ---- Python Extension legacy linter disabled (setting removed; Ruff handles linting) ----

  // ---- Pylance: MINIMAL LANGUAGE SERVER ONLY (IntelliSense + No Diagnostics) ----
  "python.languageServer": "Pylance",
  "python.analysis.typeCheckingMode": "off",  // FORCE OFF (user settings has "basic")
  "python.analysis.diagnosticMode": "workspace",  // Allow full indexing; diagnostics still disabled via overrides
  "python.analysis.indexing": true,  // Enable for better completions/go-to-def across workspace
  "python.analysis.autoSearchPaths": false,
  "python.analysis.useLibraryCodeForTypes": false,
  // Explicitly exclude large or irrelevant folders from Pylance analysis
  "python.analysis.exclude": [
    "**/.git/**",
    "**/.venv/**",
    "**/venv/**",
    "**/__pycache__/**",
    "**/archive/**",
    "**/background/**",
    "**/Design/**",
    "**/outputs/**",
    "**/logs/**",
    "**/qa_logs/**",
    "**/build/**",
    "**/dist/**"
  ],
  "python.analysis.diagnosticSeverityOverrides": {
    "reportAssertAlwaysTrue": "none",
    "reportCallInDefaultInitializer": "none",
    "reportConstantRedefinition": "none",
    "reportDuplicateImport": "none",
    "reportFunctionMemberAccess": "none",
    "reportGeneralTypeIssues": "none",
    "reportImportCycles": "none",
    "reportImplicitStringConcatenation": "none",
    "reportIncompatibleMethodOverride": "none",
    "reportIncompatibleVariableOverride": "none",
    "reportInvalidStringEscapeSequence": "none",
    "reportInvalidStubStatement": "none",
    "reportInvalidTypeVarUse": "none",
    "reportMissingImports": "none",
    "reportMissingModuleSource": "none",
    "reportMissingTypeArgument": "none",
    "reportMissingTypeStubs": "none",
    "reportOptionalCall": "none",
    "reportOptionalContextManager": "none",
    "reportOptionalIterable": "none",
    "reportOptionalMemberAccess": "none",
    "reportOptionalOperand": "none",
    "reportOptionalSubscript": "none",
    "reportPrivateImportUsage": "none",
    "reportPrivateUsage": "none",
    "reportPropertyTypeMismatch": "none",
    "reportSelfClsParameterName": "none",
    "reportTypedDictNotRequiredAccess": "none",
    "reportUnboundVariable": "none",
    "reportUndefinedVariable": "none",
    "reportUninitializedInstanceVariable": "none",
    "reportUnknownArgumentType": "none",
    "reportUnknownLambdaType": "none",
    "reportUnknownMemberType": "none",
    "reportUnknownParameterType": "none",
    "reportUnknownVariableType": "none",
    "reportUnnecessaryCast": "none",
    "reportUnnecessaryComparison": "none",
    "reportUnnecessaryContains": "none",
    "reportUnnecessaryIsInstance": "none",
    "reportUnsupportedOperand": "none",
    "reportUntypedBaseClass": "none",
    "reportUntypedClassDecorator": "none",
    "reportUntypedFunctionDecorator": "none",
    "reportUntypedNamedTuple": "none",
    "reportUnusedCallResult": "none",
    "reportUnusedClass": "none",
    "reportUnusedCoroutine": "none",
    "reportUnusedFunction": "none",
    "reportUnusedImport": "none",
    "reportUnusedVariable": "none",
    "reportUnsupportedDunderAll": "none",
    "reportWildcardImportFromLibrary": "none"
  },

  // ---- Pytest ----
  "python.testing.pytestEnabled": true,
  "python.testing.unittestEnabled": false,
  "python.testing.cwd": "${workspaceFolder}",
  "python.testing.pytestArgs": [
    "--tb=short",
    "--strict-markers",
    "--disable-warnings"
  ],

  // ---- File Management ----
  "files.exclude": {
    "**/__pycache__/**": true,
    "**/*.pyc": true,
    "**/.venv/**": true,
    "**/venv/**": true,
    "**/build/**": true,
    "**/dist/**": true
  },
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/__pycache__/**": true,
    "**/.venv/**": true,
    "**/venv/**": true,
    "**/archive/**": true,
    "**/background/**": true,
    "**/Design/**": true,
    "**/outputs/**": true,
    "**/logs/**": true,
    "**/qa_logs/**": true,
    "**/build/**": true,
    "**/dist/**": true
  },

  // ---- Terminal ----
  "terminal.integrated.shellArgs.windows": ["-Command", "& '${workspaceFolder}\\.venv\\Scripts\\Activate.ps1'"]
}
